<!DOCTYPE html>
<html>
<head>
  <title> Object Rock Paper Scissors </title>
</head>
<body>
  <p>
    Rock Paper Scissors
  </p>

  <button onclick="
      
   pickComputerMove();
   
    playerMove = 'rock';

   PlayGame(playerMove);

  "> Rock</button>


  <button onclick="

  pickComputerMove();

   playerMove = 'paper';

   PlayGame(playerMove);
  "> Paper</button>


  <button onclick="
    pickComputerMove();

  playerMove = 'scissors';

  PlayGame(playerMove);
     
  "> Scissors</button>

  <button onclick="
  score.wins = 0;
  score.losses = 0;
  score.ties = 0;
  // removing score object from local storage
  localStorage.removeItem('score');
  ">
    Reset Score
  </button>


<script>

  
  // getting score from localstorage then converting to Javascript. 
  let score = JSON.parse(localStorage.getItem('score')) || {
      wins: 0,
      losses: 0,
      ties: 0
    };

    // above code does shortcut way of what is done below check if score is null
/*
    of (score === null) {
      score = {
        wins: 0,
        losses: 0,
        ties: 0
      }
    } 

    */
  let playerMove = '';
  let result = '';
  let computerMove = '';

  function pickComputerMove() {
    const randomNumber = Math.random();
    if ((0 < randomNumber) && (randomNumber < 1/3)  ) {
       computerMove = 'rock';
    }
      else if ((1/3 < randomNumber) && (randomNumber < 2/3) ) {
      computerMove = 'paper';
      }

      else {
      computerMove = 'scissors';
      }

      return computerMove;
  }

  function PlayGame(PlayerMove) {


    if(playerMove === 'rock'){

        if (computerMove === 'rock') {
          result = 'tie';
        }
        else if (computerMove === 'paper') {
          result = 'You lose';
        }
        else {
          result = 'You win';
        }

        if (result === 'You win') {
          score.wins++;
        } else if (result === 'You lose') {
          score.losses++;
        } else if (result === 'tie') {
          score.ties++;
        }

        // saving score into local storage but local storage only uses strings so we first convert JAVA Object > JSON string
        localStorage.setItem('score', JSON.stringify(score));

        alert(`You picked rock. Computer picked ${computerMove}. ${result}
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`)

    }

    else if(playerMove === 'paper') {

      
      if (computerMove === 'rock') {
        result = 'You win';
      }
      else if (computerMove === 'paper') {
        result = 'tie';
      }
      else {
        result = 'You lose';
      }

      if (result === 'You win') {
          score.wins++;
        } else if (result === 'You lose') {
          score.losses++;
        } else if (result === 'tie') {
          score.ties++;
        }

        localStorage.setItem('score', JSON.stringify(score));


      alert(`You picked paper. Computer picked ${computerMove}. ${result}
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`)


    }

    else if (playerMove === 'scissors') {

      if (computerMove === 'rock') {
          result = 'You lose';
        }
        else if (computerMove === 'paper') {
          result = 'You win';
        }
        else {
          result = 'tie';
        }

        if (result === 'You win') {
          score.wins++;
        } else if (result === 'You lose') {
          score.losses++;
        } else if (result === 'tie') {
          score.ties++;
        }

        localStorage.setItem('score', JSON.stringify(score));

        alert(`You picked scissors. Computer picked ${computerMove}. ${result}
Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`)


    }
  
    

  }



</script>

</body>

</html>